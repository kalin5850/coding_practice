from typing import List


# def coin_game(coins: List[int]) -> int:
#     """
#     max_scores = sum([coins]) - min(pick_from_left, pick_from_right)
#     """

#     # recursive
#     def recusive(left: int, right: int) -> int:
#         if left >= right:
#             return coins[right]

#         sum = 0
#         for i in range(left, right + 1):
#             sum += coins[i]

#         left_num = recusive(left + 1, right)
#         right_num = recusive(left, right - 1)
#         max_score = sum - min(left_num, right_num)

#         return max_score

#     result = recusive(0, len(coins) - 1)
#     print(result)
#     return 0


# dp
def coin_game(coins: List[int]) -> int:
    n = len(coins)
    dp = [[[0, 0] for _ in range(n)] for _ in range(n)]

    # base
    for idx, value in enumerate(coins):
        dp[idx][idx] = [value, 0]

    # filling table
    for l in range(2, n + 1):
        for i in range(n - 1):
            j = i + l - 1
            if j < n:
                start_left = coins[i] + dp[i + 1][j][1]
                start_right = coins[j] + dp[i][j - 1][1]
                if start_left > start_right:
                    dp[i][j][0] = start_left
                    dp[i][j][1] = dp[i + 1][j][0]
                else:
                    dp[i][j][0] = start_right
                    dp[i][j][1] = dp[i][j - 1][0]

    print(dp)
    return dp[0][n - 1]


if __name__ == "__main__":
    coins = [4, 4, 9, 4]
    res = coin_game(coins)
    print(res)
    # coins = [1, 2, 9999, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
    # res = coin_game(coins)
    # print(res)
    # coins = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
    # res = coin_game(coins)
    # print(res)
    # coins = [5, 3, 4, 5]
    # res = coin_game(coins)
    # print(res)
    # coins = [
    #     7238,
    #     89369,
    #     28508,
    #     17410,
    #     43534,
    #     81961,
    #     41353,
    #     91102,
    #     87287,
    #     86790,
    #     49691,
    #     82542,
    #     71590,
    #     82987,
    #     4128,
    #     4943,
    #     82824,
    #     17718,
    #     16776,
    #     82508,
    #     10416,
    #     46979,
    #     67097,
    #     6749,
    #     50225,
    #     19717,
    #     92544,
    #     40808,
    #     57804,
    #     69927,
    #     97850,
    #     62425,
    #     40593,
    #     19941,
    #     6394,
    #     29189,
    #     95937,
    #     82808,
    #     18190,
    #     83810,
    #     22111,
    #     63259,
    #     83675,
    #     69846,
    #     48910,
    #     7747,
    #     82715,
    #     41345,
    #     39939,
    #     12545,
    #     21019,
    #     88913,
    #     34046,
    #     39798,
    #     45252,
    #     38098,
    #     74472,
    #     73930,
    #     8931,
    #     35372,
    #     10274,
    #     65515,
    #     69724,
    #     6211,
    #     35042,
    #     79797,
    #     34924,
    #     9807,
    #     23832,
    #     12607,
    #     3668,
    #     76675,
    #     96353,
    #     96092,
    #     76270,
    #     78576,
    #     96200,
    #     35070,
    #     15986,
    #     29282,
    #     30839,
    #     84690,
    #     37183,
    #     29762,
    #     15499,
    #     9135,
    #     9253,
    #     77007,
    #     65254,
    #     54917,
    #     2084,
    #     42695,
    #     28692,
    #     77912,
    #     43988,
    #     37086,
    #     44124,
    #     14078,
    #     2295,
    #     11660,
    #     36190,
    #     8371,
    #     68620,
    #     76577,
    #     91602,
    #     2337,
    #     14163,
    #     59959,
    #     13413,
    #     90921,
    #     12372,
    #     36623,
    #     79698,
    #     83412,
    #     62671,
    #     97295,
    #     84800,
    #     81250,
    #     9484,
    #     9157,
    #     39431,
    #     42564,
    #     66074,
    #     62493,
    #     30150,
    #     42407,
    #     65577,
    #     20914,
    #     28977,
    #     89898,
    #     42834,
    #     82107,
    #     56808,
    #     4061,
    #     27429,
    #     54150,
    #     95705,
    #     53526,
    #     85734,
    #     17956,
    #     59859,
    #     66627,
    #     30278,
    #     88842,
    #     65623,
    #     74450,
    #     36959,
    #     14669,
    #     44161,
    #     2785,
    #     35671,
    #     63951,
    #     74012,
    #     96896,
    #     12544,
    #     61738,
    #     8351,
    #     81693,
    #     35726,
    #     72606,
    #     68336,
    #     26250,
    #     35418,
    #     1912,
    #     41238,
    #     83082,
    #     72829,
    #     65679,
    #     52863,
    #     94889,
    #     19505,
    #     53025,
    #     75295,
    #     77684,
    #     13774,
    #     30072,
    #     35564,
    #     63350,
    #     11896,
    #     72276,
    #     13509,
    #     46259,
    #     78950,
    #     21290,
    #     47212,
    #     90779,
    #     1073,
    #     65720,
    #     56771,
    #     79308,
    #     85604,
    #     75150,
    #     11804,
    #     20409,
    #     25570,
    #     19120,
    #     61963,
    #     5082,
    #     277,
    #     1380,
    #     65849,
    #     34057,
    #     25064,
    #     44490,
    #     12086,
    #     82248,
    #     48690,
    #     87654,
    #     19567,
    #     21438,
    #     84558,
    #     75781,
    #     77780,
    #     7733,
    #     5316,
    #     55291,
    #     65403,
    #     4894,
    #     24916,
    #     54433,
    #     51678,
    #     60474,
    #     23954,
    #     62614,
    #     49784,
    #     46986,
    #     43823,
    #     96598,
    #     11744,
    #     60244,
    #     35502,
    #     92586,
    #     74663,
    #     80719,
    #     39333,
    #     48028,
    #     75171,
    #     47671,
    #     73125,
    #     97673,
    #     30583,
    #     65772,
    #     36843,
    #     72015,
    #     74224,
    #     57728,
    #     58038,
    #     51478,
    #     40109,
    #     94894,
    #     46803,
    #     44034,
    #     42152,
    #     50461,
    #     70520,
    #     92808,
    #     68177,
    #     46971,
    #     27476,
    #     83601,
    #     33952,
    #     27827,
    #     62822,
    #     22282,
    #     70747,
    #     20994,
    #     974,
    #     77303,
    #     37563,
    #     12285,
    #     76327,
    #     26234,
    #     23805,
    #     60484,
    #     72715,
    #     33351,
    #     58102,
    #     58554,
    #     19887,
    #     89067,
    #     15470,
    #     56928,
    #     23753,
    #     3735,
    #     52450,
    #     59513,
    #     61539,
    #     75054,
    #     97328,
    #     61222,
    #     21395,
    #     9950,
    #     41931,
    #     7907,
    #     40341,
    #     78835,
    #     32229,
    #     54329,
    #     95306,
    #     60326,
    #     17559,
    #     60774,
    #     98159,
    #     1164,
    #     7157,
    #     48958,
    #     71948,
    #     50607,
    #     8332,
    #     48736,
    #     66237,
    #     99575,
    #     14728,
    #     27107,
    #     10060,
    #     88807,
    #     95944,
    #     69248,
    #     55712,
    #     70238,
    #     64630,
    #     81104,
    #     52910,
    #     75504,
    #     46234,
    #     61334,
    #     56252,
    #     58326,
    #     84916,
    #     79821,
    #     55934,
    #     35087,
    #     24624,
    #     94216,
    #     32548,
    #     27993,
    #     99422,
    #     71629,
    #     81038,
    #     48236,
    #     90740,
    #     74900,
    #     55869,
    #     38218,
    #     81336,
    #     6516,
    #     6995,
    #     74386,
    #     54380,
    #     65091,
    #     50853,
    #     90196,
    #     7099,
    #     95535,
    #     58265,
    #     50445,
    #     44956,
    #     13070,
    #     87699,
    #     30071,
    #     10186,
    #     84190,
    #     22037,
    #     43060,
    #     7961,
    #     45756,
    #     47963,
    #     18032,
    #     36094,
    #     79512,
    #     39514,
    #     18271,
    #     90638,
    #     16207,
    #     45115,
    #     52458,
    #     69888,
    #     13616,
    #     96715,
    #     41208,
    #     50835,
    #     50107,
    #     85846,
    #     96595,
    #     56562,
    #     41779,
    #     62876,
    #     37069,
    #     66645,
    #     76944,
    #     54887,
    #     66546,
    #     34981,
    #     79887,
    #     52834,
    #     72028,
    #     29547,
    #     43040,
    #     94078,
    #     26568,
    #     74098,
    #     99362,
    #     98317,
    #     17421,
    #     8475,
    #     97932,
    #     74440,
    #     68408,
    #     29199,
    #     27087,
    #     89934,
    #     57396,
    #     48375,
    #     17095,
    #     67864,
    #     86353,
    #     86289,
    #     36308,
    #     88649,
    #     65543,
    #     41921,
    #     1073,
    #     38183,
    #     28345,
    #     2924,
    #     69550,
    #     69031,
    #     74690,
    #     50842,
    #     72690,
    #     52825,
    #     89845,
    #     44701,
    #     23044,
    #     85794,
    #     28589,
    #     92186,
    #     70698,
    #     6191,
    #     69236,
    #     9260,
    #     65622,
    #     72403,
    #     9584,
    #     31461,
    #     19451,
    #     51705,
    #     73902,
    #     61515,
    #     34496,
    #     28403,
    #     54088,
    #     31468,
    #     83311,
    #     20966,
    #     72298,
    #     95902,
    #     73588,
    #     54775,
    #     30781,
    #     88905,
    #     96134,
    #     59295,
    #     47207,
    #     78164,
    #     62387,
    #     75398,
    #     63468,
    #     27828,
    #     11677,
    #     59253,
    #     41655,
    #     24138,
    #     7140,
    #     44546,
    #     98492,
    #     6454,
    #     27679,
    #     88029,
    #     79010,
    #     28736,
    #     513,
    #     15017,
    #     42822,
    #     95233,
    #     63115,
    #     14420,
    #     71026,
    #     72122,
    #     6230,
    #     1856,
    #     78124,
    #     15693,
    #     5728,
    #     42027,
    #     24985,
    #     33875,
    #     6497,
    #     55376,
    #     51643,
    #     71240,
    #     66434,
    #     33319,
    #     31585,
    #     83344,
    #     64836,
    #     74097,
    #     29955,
    #     80283,
    #     38707,
    #     54206,
    #     20402,
    #     51677,
    #     42909,
    #     78594,
    #     82962,
    #     51690,
    #     59626,
    #     12179,
    #     35804,
    #     31845,
    #     73920,
    #     22422,
    #     31205,
    #     82398,
    #     27370,
    #     11708,
    #     32585,
    #     42382,
    #     28906,
    #     74972,
    #     33536,
    #     95446,
    #     40131,
    #     86643,
    #     73293,
    #     4334,
    #     31146,
    #     25873,
    #     15174,
    #     83230,
    #     79031,
    #     72458,
    #     61745,
    #     64325,
    #     17822,
    #     86703,
    #     64509,
    #     27379,
    #     18757,
    #     78949,
    #     461,
    #     18284,
    #     57291,
    #     43333,
    #     80970,
    #     59722,
    #     78574,
    #     64845,
    #     43699,
    #     18049,
    #     56705,
    #     65970,
    #     82760,
    #     55348,
    #     74670,
    #     26721,
    #     21730,
    #     36977,
    #     49127,
    #     17276,
    #     34143,
    #     5258,
    #     38473,
    #     26664,
    #     41101,
    #     94640,
    #     44888,
    #     95495,
    #     29171,
    #     59951,
    #     77556,
    #     15393,
    #     42395,
    #     59213,
    #     94892,
    #     36631,
    #     52598,
    #     97763,
    #     37402,
    #     37451,
    #     40242,
    #     79203,
    #     76332,
    #     57061,
    #     91028,
    #     29256,
    #     95508,
    #     72047,
    #     8423,
    #     11918,
    #     37308,
    #     27658,
    #     47255,
    #     52894,
    #     10795,
    #     81093,
    #     10461,
    #     47808,
    #     95778,
    #     10849,
    #     75574,
    #     77879,
    #     2477,
    #     26247,
    #     62694,
    #     52397,
    #     30667,
    #     1545,
    #     60934,
    #     88157,
    #     33904,
    #     32660,
    #     47467,
    #     62024,
    #     79457,
    #     83412,
    #     8774,
    #     3293,
    #     74023,
    #     42551,
    #     75682,
    #     66287,
    #     22983,
    #     63846,
    #     40721,
    #     58513,
    #     18581,
    #     46357,
    #     89185,
    #     79125,
    #     3307,
    #     88704,
    #     11338,
    #     3438,
    #     31621,
    #     53689,
    #     80411,
    #     6067,
    #     40766,
    #     41334,
    #     72877,
    #     78854,
    #     49965,
    #     92136,
    #     22062,
    #     74539,
    #     40314,
    #     75810,
    #     9339,
    #     69194,
    #     89865,
    #     84462,
    #     14778,
    #     43976,
    #     31322,
    #     45064,
    #     13613,
    #     94441,
    #     50990,
    #     21097,
    #     74423,
    #     48817,
    #     16759,
    #     21944,
    #     74317,
    #     28565,
    #     37377,
    #     66335,
    #     15691,
    #     47417,
    #     79681,
    #     21212,
    #     6974,
    #     14192,
    #     81184,
    #     7488,
    #     1603,
    #     66391,
    #     76819,
    #     11315,
    #     68168,
    #     6280,
    #     90861,
    #     39702,
    #     76313,
    #     17103,
    #     24481,
    #     87582,
    #     9644,
    #     50488,
    #     26676,
    #     52884,
    #     42667,
    #     71486,
    #     11844,
    #     80662,
    #     51226,
    #     89854,
    #     88174,
    #     50197,
    #     49806,
    #     7292,
    #     87718,
    #     65865,
    #     91161,
    #     23129,
    #     61474,
    #     82441,
    #     92102,
    #     34802,
    #     21347,
    #     40688,
    #     7908,
    #     96135,
    #     88976,
    #     15025,
    #     50549,
    #     33037,
    #     73853,
    #     81435,
    #     12883,
    #     74548,
    #     44015,
    #     56468,
    #     79586,
    #     85037,
    #     19495,
    #     27306,
    #     34659,
    #     19651,
    #     14171,
    #     11815,
    #     38277,
    #     24575,
    #     34715,
    #     26128,
    #     97080,
    #     65991,
    #     20589,
    #     97241,
    #     47872,
    #     18934,
    #     34991,
    #     29799,
    #     37685,
    #     6371,
    #     39091,
    #     60594,
    #     42991,
    #     82019,
    #     59441,
    #     46928,
    #     34433,
    #     3284,
    #     88195,
    #     5696,
    #     50391,
    #     17773,
    #     12423,
    #     39075,
    #     6334,
    #     59352,
    #     58256,
    #     49330,
    #     63674,
    #     31605,
    #     62843,
    #     67624,
    #     18235,
    #     18573,
    #     82543,
    #     30813,
    #     37509,
    #     71131,
    #     20904,
    #     59545,
    #     42487,
    #     34768,
    #     12458,
    #     60692,
    #     43539,
    #     20578,
    #     75017,
    #     77343,
    #     89711,
    #     92089,
    #     38999,
    #     98832,
    #     91138,
    #     85142,
    #     5652,
    #     93876,
    #     53545,
    #     80089,
    #     40928,
    #     2836,
    #     6714,
    #     10727,
    #     66728,
    #     59879,
    #     52219,
    #     41415,
    #     28175,
    #     50880,
    #     51117,
    #     41388,
    #     47484,
    #     42039,
    #     45555,
    #     77088,
    #     61263,
    #     61419,
    #     73343,
    #     83363,
    #     50135,
    #     87674,
    #     10835,
    #     75245,
    #     63386,
    #     25958,
    #     76121,
    #     15976,
    #     78185,
    #     96433,
    #     160,
    #     69041,
    #     37845,
    #     74304,
    #     31923,
    #     58714,
    #     58151,
    #     45585,
    #     69775,
    #     70985,
    #     29850,
    #     50163,
    #     22293,
    #     7331,
    #     8807,
    #     56950,
    #     37551,
    #     20438,
    #     56421,
    #     64529,
    #     92153,
    #     63429,
    #     97841,
    #     83794,
    #     68243,
    #     45591,
    #     89868,
    #     3536,
    #     906,
    #     33138,
    #     1580,
    #     33992,
    #     91043,
    #     89524,
    #     43565,
    #     61797,
    #     80178,
    #     27961,
    #     55887,
    #     42106,
    #     39730,
    #     96957,
    #     60975,
    #     68573,
    #     72496,
    #     84135,
    #     95370,
    #     70770,
    #     88500,
    #     99856,
    #     428,
    #     16638,
    #     16107,
    #     15317,
    #     14268,
    #     10604,
    #     93113,
    #     14113,
    #     49575,
    #     82824,
    #     76168,
    #     18790,
    #     4734,
    #     41315,
    #     25018,
    #     13245,
    #     58043,
    #     70882,
    #     26005,
    #     87849,
    #     5303,
    #     35072,
    #     73381,
    #     32567,
    #     36615,
    #     94432,
    #     34611,
    #     15317,
    #     64162,
    #     5714,
    #     76448,
    #     45756,
    #     52066,
    #     41395,
    #     48564,
    #     70145,
    #     7710,
    #     97272,
    #     76813,
    #     59771,
    #     73679,
    #     52322,
    #     79818,
    #     23448,
    #     68040,
    #     92443,
    #     96,
    #     89048,
    #     87643,
    #     86131,
    #     26674,
    #     97325,
    #     7922,
    #     84102,
    #     43152,
    #     73999,
    #     77481,
    #     79550,
    #     73746,
    #     7029,
    #     48168,
    #     4917,
    #     60832,
    #     71938,
    #     28463,
    #     16474,
    #     80080,
    #     16487,
    #     11314,
    #     87265,
    #     92863,
    #     33758,
    #     32735,
    #     28055,
    #     63313,
    #     48437,
    #     54253,
    #     82636,
    #     83846,
    #     5606,
    #     72199,
    #     33787,
    #     70201,
    #     4115,
    #     9340,
    #     32966,
    #     87257,
    #     58803,
    #     55517,
    #     19067,
    #     94257,
    #     68797,
    #     69951,
    #     65094,
    #     66505,
    #     18530,
    #     39367,
    #     20467,
    #     10918,
    #     24781,
    #     3234,
    #     264,
    #     61052,
    #     90826,
    #     25590,
    #     80084,
    #     86451,
    #     22922,
    #     52940,
    #     58377,
    #     83812,
    #     3475,
    #     47503,
    #     85484,
    #     80894,
    # ]
    # res = coin_game(coins)
    # print(res)
